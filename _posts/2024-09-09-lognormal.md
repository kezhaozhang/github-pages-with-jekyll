---

title: "Multiplicative Processes and the Log-normal Distribution "
date: 2024-09-09
typora-root-url: ./..
---



This note derives log-normal distribution from random multiplicative processes and confirms its application through investment simulations. We also examine how dispersion and inequality among investments grow over time and quantify inequality using the Gini index.



### Log-normal Distributions

The log-normal distribution is characterized by its long tails and is frequently observed in financial data and income distributions. 

For example, the world per person income from the [World Inequality Database](https://wid.world/data/) has a log-normal distribution. 



<figure>
  <center>
  <img src="/assets/images/lognormal_income_histogram.svg" width="450">
   </center>
  <center>
    <figcaption> Figure 1. Distribution of world per person income with a log-normal distribution fit.
    </figcaption>
  </center>
</figure>



<figure>
  <center>
  <img src="/assets/images/lognormal_qqplot.svg" width="450">
   </center>
  <center>
    <figcaption> Figure 2. QQ-plot comparing income data with a log-normal distribution, indicating a close fit.
    </figcaption>
  </center>
</figure>



### Multiplicative Processes

Log-normal distributions often arise from Multiplicative processes. Consider the product  of $n$ independent and identically distributed (i.i.d.) random variables:



$$
y = \left(x_1 \cdot x_2 \cdot \cdots  x_n\right)^{\frac{1}{\sqrt{n}}} . \label{eqn_multiplicative_process}
$$



Taking the logarithm of $y$:


$$
z = \log y = \frac{1}{\sqrt{n}}\sum_{i=1}^{n}\log x_i.\notag
$$


According to the central limit theorem, for large $n$, $z$ will approximate a normal distribution: 


$$
z = \log y \sim \mathcal{N}(\mu, \sigma^2), \notag
$$


 where $\mu$ and $\sigma^2$ are the mean and variance of $\log{y}$, respectively. Note that the variance of $\log x_i$ is the same as that of $\log y$ and the mean of $\log x_i$ is $\mu/\sqrt{n}$. 



The probability density function (PDF) of $y$ is derived as follows. Let $p(z)$ be the PDF of $z$, we have:


$$
p(z) dz  = p(z(y))\left|\frac{dz}{dy}\right|dy,  \notag
$$


Thus, the PDF of $y$ is 


$$
p(z(y))\left| \frac{dz}{dy} \right| = \frac{1}{\sqrt{2\pi} \sigma y} \exp\left({-\frac{(\log y -\mu)^2}{2\sigma^2}}\right).
\label{eqn_lognormal_pdf}
$$


This confirms that $y$, generated by a multiplicative process described in Equation ($\ref{eqn_multiplicative_process}$), follows a log-normal distribution.



### Investment Return Model

We simulate an investment where the rate of return per session follows a normal distribution. Over multiple sessions, the distribution of investments is analyzed. Below is the Wolfram Language code used for the simulation: 

```mathematica
SeedRandom[1234];
nsessions = 300; (* number of investment sessions (Time) *)
nsamples = 500; (* number of investment accounts *)
(* rate of return per session: Normal distribution: mean=0, sigma=5% *)
rate = RandomVariate[NormalDistribution[0, 5], {nsamples, nsessions}];
(* final investment return after nsessions *)
return = Times@@#&/@((1+#*0.01)&@rate); 
```



Figure 3 illustrates the investment balances of $500$ accounts over time. All accounts start with the same balance of $1$. As time progresses, the variation among accounts increases, with a notable long tail emerging.



<figure>
  <center>
  <img src="/assets/images/investment_vs_time.svg" width="500">
   </center>
  <center>
    <figcaption> Figure 3. Investment balance over time for 500 accounts.
    </figcaption>
  </center>
</figure>



The distribution of investments after 300 sessions fits well with a log-normal distribution, as shown in Figure 4. 

<figure>
  <center>
  <img src="/assets/images/invest_histogram_time_300.svg" width="500">
   </center>
  <center>
    <figcaption> Figure 4. Distribution of investments after 300 sessions compared to a log-normal distribution fit.
    </figcaption>
  </center>
</figure>



Figure 5 demonstrates investment inequality, where $20\%$ of the accounts account hold about half of the total investment. The inequality can be quantified with the Gini index.


<figure>
<center>
  <img src="/assets/images/gini_percentile_vs_investment_share.svg" width="500">
   </center>
  <center>
    <figcaption> Figure 5. Cumulative proportion of total investment held by the top percentage of accounts.
    </figcaption>
  </center>
  </figure>  



### Gini Index 

The Gini index measures statistical dispersion and is commonly used to represent income or wealth inequality. For reference, see [Gini Coefficient](https://en.wikipedia.org/wiki/Gini_coefficient).



Figure 6 depicts the Lorenz curve, showing the share of income versus the share of people. In a perfectly equal distribution, the curve would be a straight line with a slope of $1$. The area between the line of equality and the Lorenz curve indicates inequality. 

<figure>
  <center>
  <img src="/assets/images/gini_percentile_vs_income_share_gini_area.svg" width="500">
   </center>
  <center>
    <figcaption> Figure 6. Lorenz curve illustrating the share of income vs. the share of people. The area between the equality line and the Lorenz curve represents inequality.
    </figcaption>
  </center>
</figure>



The Gini index is defined as


$$
\mathrm{Gini} = 2 A,\notag
$$


where $A$ is the area between the line of equality and the Lorenz curve. In our simulation, Figure 7 shows that inequality increases with time, as evidenced by the expanding area between the curve and the line of equality. 





<figure>
  <center>
  <img src="/assets/images/gini_percentile_vs_income_share_various_end_times.svg" width="500">
   </center>
  <center>
    <figcaption> Figure 7.  Share of investment vs. share of accounts at different times (10, 50, and 300 sessions).
    </figcaption>
  </center>
</figure>

Figure 8 displays histograms of investment distributions at times 10, 50, and 300. As time progresses, the tail of the distribution becomes heavier, reflecting increasing inequality. 

<figure>
  <center>
  <img src="/assets/images/invest_histogram_at_endtime_10_50_300.svg" width="800">
   </center>
  <center>
    <figcaption> Figure 8. Investment distribution at times 10, 50, and 300. The distribution tail grows heavier over time.
    </figcaption>
  </center>
</figure>





### Conclusion

Random multiplicative processes lead to log-normal distribution. Simulations of investment returns confirm this distribution and show that inequality, quanfied by the Gini index, increases over time. 



### References

Nair, J., Wierman, A., and Zwart, B. (2022). *The Fundamentals of Heavy Tails: Properties, Emergence, and Estimation*. Cambridge University Press.
